package com.example.extarc.androidpushnotification;import android.util.Log;import org.json.JSONStringer;import java.io.BufferedReader;import java.io.InputStreamReader;import java.io.OutputStreamWriter;import java.net.HttpURLConnection;import java.net.URL;public class WebService {    static String TAG="WebService";    public static String callJsonService(String webServiceUrl, String webServiceName, JSONStringer inputJsonString, String methodType ) {        String SERVICE_URI = ApplicationConstants.SERVER_PATH + webServiceUrl;        String jsonResponse= null;        Log.i(TAG, "Initiating webservice: " + webServiceName);        try {            URL url = new URL(SERVICE_URI);            Log.i(TAG, "URL: " + SERVICE_URI);            HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();            urlConnection.setRequestProperty("Content-Type", "application/json; charset=UTF-8");            urlConnection.setDoInput(true);            if(methodType.equalsIgnoreCase("GET")){                urlConnection.setRequestMethod("GET");            }else{                urlConnection.setRequestMethod("POST");                urlConnection.setDoOutput(true);                OutputStreamWriter outputStreamWriter = new OutputStreamWriter(urlConnection.getOutputStream());                outputStreamWriter.write(inputJsonString.toString());                /*outputStreamWriter.write(jObject.toString());                Log.i("In ",jObject.toString());*/                outputStreamWriter.close();            }            // Getting Response            int responseCode = urlConnection.getResponseCode();            StringBuffer response = new StringBuffer();            System.out.println("Response Code from Server for WebService :: "+webServiceName+":" + responseCode);            if (responseCode == HttpURLConnection.HTTP_OK) { //success                BufferedReader in = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));                String inputLine;                while ((inputLine = in.readLine()) != null) {                    response.append(inputLine);                }                in.close();                jsonResponse = response.toString();            }            else {                Log.i(TAG, String.format("Unsuccessful HTTP response code: %d", responseCode));            }        } catch (Exception ex) {            Log.e("Error in WerService " + webServiceName, ex.toString());        }        Log.i(TAG, "WS Response: " + jsonResponse);        return jsonResponse;    }}